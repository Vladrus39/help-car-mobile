import{r as e,c as l,o as t,h as a,l as r,m as s,t as n,I as d,J as i,F as o,i as u,p as c,v as g,y as v,k as x,n as b}from"./vendor-mW7CftnD-v1766841819551.js";import{a as y}from"./index-Y1ONQ0D2-v1766841819551.js";import"./utils-MqoAbdB_-v1766841819551.js";import"./maps-CCq-KL9W-v1766841819551.js";const f={class:"min-h-screen bg-gray-100 dark:bg-gray-900 pb-24"},p={class:"bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-40"},h={class:"max-w-lg mx-auto px-4 py-4 flex items-center justify-between"},k={class:"max-w-lg mx-auto px-4 py-4"},m={class:"grid grid-cols-3 gap-3 mb-4"},w={class:"bg-white dark:bg-gray-800 rounded-xl p-4 text-center shadow"},_={class:"text-2xl font-bold text-blue-600"},C={class:"bg-white dark:bg-gray-800 rounded-xl p-4 text-center shadow"},j={class:"text-2xl font-bold text-green-600"},F={class:"text-2xl font-bold text-orange-600"},$={class:"relative mb-4"},q={class:"flex gap-2 mb-4 overflow-x-auto pb-2"},z=["onClick"],I={key:0,class:"ml-1 opacity-75"},L={key:0,class:"text-center py-12"},R={key:1,class:"text-center py-12 bg-white dark:bg-gray-800 rounded-2xl"},U={class:"text-gray-500"},E={key:2,class:"space-y-3"},S={class:"flex items-center gap-4"},V=["onClick"],D=["src","alt"],B={key:1,class:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl"},J={key:2,class:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full"},P={class:"flex-1 min-w-0"},W={class:"flex items-center gap-2"},A={class:"font-bold text-gray-900 dark:text-white truncate"},G={key:0,class:"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded"},H={class:"flex items-center gap-3 text-sm text-gray-500 mt-1"},K={key:0,class:"text-green-600"},M={key:1,class:"text-gray-400"},N={class:"flex gap-2 mt-4"},O=["onClick"],Q=["onClick"],T=["onClick"],X={class:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden"},Y={class:"p-4 border-b dark:border-gray-700 flex items-center justify-between"},Z={class:"p-4"},ee={key:0,class:"text-center py-4"},le={key:1,class:"mt-4 space-y-2 max-h-60 overflow-y-auto"},te={class:"flex items-center gap-3"},ae=["src"],re={key:1,class:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold"},se={class:"font-medium text-gray-900 dark:text-white"},ne={class:"text-xs text-gray-500"},de={key:0,class:"px-3 py-1.5 bg-green-100 text-green-700 rounded-lg text-sm",disabled:""},ie={key:1,class:"px-3 py-1.5 bg-gray-100 text-gray-500 rounded-lg text-sm",disabled:""},oe=["onClick"],ue={class:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden"},ce={class:"p-4 border-b dark:border-gray-700 flex items-center justify-between"},ge={class:"p-4 space-y-3 max-h-[60vh] overflow-y-auto"},ve={key:0,class:"text-center py-8 text-gray-500"},xe={class:"flex items-center gap-3"},be=["src"],ye={key:1,class:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold"},fe={class:"font-medium text-gray-900 dark:text-white"},pe={key:0,class:"text-xs text-gray-500 italic"},he={class:"flex gap-2"},ke=["onClick"],me=["onClick"],we={class:"bg-white dark:bg-gray-800 rounded-t-3xl w-full max-w-lg p-4 pb-8"},_e={class:"flex items-center gap-4 mb-4 pb-4 border-b dark:border-gray-700"},Ce=["src"],je={key:1,class:"w-16 h-16 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-xl"},Fe={class:"font-bold text-lg text-gray-900 dark:text-white"},$e={class:"text-sm text-gray-500"},qe={class:"space-y-2"},ze={class:"text-gray-500"},Ie={class:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-sm p-4"},Le={class:"space-y-2"},Re=["onClick"],Ue={class:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-sm p-6"},Ee={key:0,class:"text-center py-8"},Se={key:1,class:"space-y-4"},Ve={class:"text-center text-sm text-gray-500 mb-4"},De={class:"grid grid-cols-2 gap-4"},Be={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 text-center"},Je={class:"text-2xl font-bold text-green-600"},Pe={class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center"},We={class:"text-2xl font-bold text-blue-600"},Ae={class:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-4 text-center"},Ge={class:"text-2xl font-bold text-yellow-600"},He={__name:"FriendsView",setup(He){const Ke=v(),Me=e(!0),Ne=e([]),Oe=e([]),Qe=e(""),Te=e("all"),Xe=e(!1),Ye=e(!1),Ze=e(null),el=e(!1),ll=e(!1),tl=e(null),al=e(!1),rl=e(""),sl=e([]),nl=e(!1),dl=[{id:"all",name:"Ð’ÑÐµ",icon:"ðŸ‘¥"},{id:"Ð¡ÐµÐ¼ÑŒÑ",name:"Ð¡ÐµÐ¼ÑŒÑ",icon:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦"},{id:"ÐšÐ¾Ð»Ð»ÐµÐ³Ð¸",name:"ÐšÐ¾Ð»Ð»ÐµÐ³Ð¸",icon:"ðŸ’¼"},{id:"ÐšÐ»ÑƒÐ±",name:"ÐšÐ»ÑƒÐ±",icon:"ðŸŽï¸"},{id:"Ð”Ñ€ÑƒÐ·ÑŒÑ",name:"Ð”Ñ€ÑƒÐ·ÑŒÑ",icon:"ðŸ¤"}],il=["","Ð¡ÐµÐ¼ÑŒÑ","ÐšÐ¾Ð»Ð»ÐµÐ³Ð¸","ÐšÐ»ÑƒÐ±","Ð”Ñ€ÑƒÐ·ÑŒÑ"],ol=l(()=>Ne.value.filter(e=>{var l;return null==(l=e.friend)?void 0:l.is_online})),ul=l(()=>{let e=Ne.value;if("all"!==Te.value&&(e=e.filter(e=>e.group_name===Te.value)),Qe.value){const l=Qe.value.toLowerCase();e=e.filter(e=>{var t,a;return null==(a=null==(t=e.friend)?void 0:t.full_name)?void 0:a.toLowerCase().includes(l)})}return e}),cl=e=>"all"===e?Ne.value.length:Ne.value.filter(l=>l.group_name===e).length,gl=e=>{if(!e)return null;if(e.startsWith("http"))return e;return`${"https://help-car.online/api/v1".replace("/api/v1","")}${e}`},vl=e=>e?e.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase():"?",xl=e=>e?new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}):"",bl=async()=>{try{Me.value=!0;const e=await y.getFriends();Ne.value=(null==e?void 0:e.data)||[]}catch(e){console.error("Load friends error:",e)}finally{Me.value=!1}},yl=async()=>{try{const e=await y.getPendingFriendRequests();Oe.value=(null==e?void 0:e.data)||[]}catch(e){console.error("Load pending error:",e)}},fl=async()=>{if(rl.value.length<2)sl.value=[];else try{nl.value=!0;const e=await y.searchUsersForFriends(rl.value);sl.value=(null==e?void 0:e.data)||[]}catch(e){console.error("Search error:",e)}finally{nl.value=!1}},pl=e=>{e&&Ke.push(`/user/${e}`)};function hl(e){e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%236366f1" width="100" height="100"/><text x="50" y="60" text-anchor="middle" fill="white" font-size="40">?</text></svg>'}return t(()=>{bl(),yl()}),(e,l)=>{var t,v,He,kl,ml,wl;return x(),a("div",f,[r("div",p,[r("div",h,[r("button",{onClick:l[0]||(l[0]=l=>e.$router.back()),class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg"}," â† "),l[17]||(l[17]=r("h1",{class:"text-xl font-black text-gray-900 dark:text-white"},"ðŸ‘¥ Ð”Ñ€ÑƒÐ·ÑŒÑ",-1)),r("button",{onClick:l[1]||(l[1]=e=>Xe.value=!0),class:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," + ")])]),r("div",k,[r("div",m,[r("div",w,[r("div",_,n(Ne.value.length),1),l[18]||(l[18]=r("div",{class:"text-xs text-gray-500"},"Ð”Ñ€ÑƒÐ·ÐµÐ¹",-1))]),r("div",C,[r("div",j,n(ol.value.length),1),l[19]||(l[19]=r("div",{class:"text-xs text-gray-500"},"ÐžÐ½Ð»Ð°Ð¹Ð½",-1))]),r("div",{class:"bg-white dark:bg-gray-800 rounded-xl p-4 text-center shadow cursor-pointer hover:bg-orange-50 dark:hover:bg-orange-900/20",onClick:l[2]||(l[2]=e=>Ye.value=!0)},[r("div",F,n(Oe.value.length),1),l[20]||(l[20]=r("div",{class:"text-xs text-gray-500"},"Ð—Ð°ÑÐ²Ð¾Ðº",-1))])]),r("div",$,[d(r("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>Qe.value=e),type:"text",placeholder:"ðŸ” ÐŸÐ¾Ð¸ÑÐº ÑÑ€ÐµÐ´Ð¸ Ð´Ñ€ÑƒÐ·ÐµÐ¹...",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[i,Qe.value]])]),r("div",q,[(x(),a(o,null,u(dl,e=>r("button",{key:e.id,onClick:l=>Te.value=e.id,class:b(["px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap transition",Te.value===e.id?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},[g(n(e.icon)+" "+n(e.name)+" ",1),cl(e.id)>0?(x(),a("span",I,"("+n(cl(e.id))+")",1)):s("",!0)],10,z)),64))]),Me.value?(x(),a("div",L,[...l[21]||(l[21]=[r("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto"},null,-1),r("p",{class:"mt-3 text-gray-500"},"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...",-1)])])):0===ul.value.length?(x(),a("div",R,[l[22]||(l[22]=r("div",{class:"text-5xl mb-4"},"ðŸ‘¥",-1)),r("p",U,n(Qe.value?"ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾":"ÐÐµÑ‚ Ð´Ñ€ÑƒÐ·ÐµÐ¹ Ð² ÑÑ‚Ð¾Ð¹ Ð³Ñ€ÑƒÐ¿Ð¿Ðµ"),1)])):(x(),a("div",E,[(x(!0),a(o,null,u(ul.value,e=>{var l,t,d,i,o,u;return x(),a("div",{key:e.friendship_id,class:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow hover:shadow-lg transition"},[r("div",S,[r("div",{class:"relative cursor-pointer",onClick:l=>{var t;return pl(null==(t=e.friend)?void 0:t.id)}},[(null==(l=e.friend)?void 0:l.avatar_url)?(x(),a("img",{key:0,src:gl(e.friend.avatar_url),alt:e.friend.full_name,class:"w-14 h-14 rounded-full object-cover"},null,8,D)):(x(),a("div",B,n(vl(null==(t=e.friend)?void 0:t.full_name)),1)),(null==(d=e.friend)?void 0:d.is_online)?(x(),a("span",J)):s("",!0)],8,V),r("div",P,[r("div",W,[r("span",A,n(null==(i=e.friend)?void 0:i.full_name),1),e.group_name?(x(),a("span",G,n(e.group_name),1)):s("",!0)]),r("div",H,[r("span",null,"â­ "+n(parseFloat((null==(o=e.friend)?void 0:o.rating)||5).toFixed(1)),1),(null==(u=e.friend)?void 0:u.is_online)?(x(),a("span",K,"ðŸŸ¢ ÐžÐ½Ð»Ð°Ð¹Ð½")):(x(),a("span",M,"âšª ÐžÑ„Ð»Ð°Ð¹Ð½"))])])]),r("div",N,[r("button",{onClick:l=>(async e=>{Ke.push(`/direct-chat/${e.id}`)})(e.friend),class:"flex-1 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg font-semibold hover:bg-blue-200 dark:hover:bg-blue-900/50 transition"}," ðŸ’¬ ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ",8,O),r("button",{onClick:l=>{return t=e.friend,void Ke.push({path:"/create-request",query:{friendId:t.id,quickCall:!0}});var t},class:"flex-1 py-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-lg font-semibold hover:bg-green-200 dark:hover:bg-green-900/50 transition"}," ðŸ†˜ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð² ",8,Q),r("button",{onClick:l=>(e=>{Ze.value=e})(e),class:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition"}," â‹® ",8,T)])])}),128))]))]),Xe.value?(x(),a("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:l[6]||(l[6]=c(e=>Xe.value=!1,["self"]))},[r("div",X,[r("div",Y,[l[23]||(l[23]=r("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð°",-1)),r("button",{onClick:l[4]||(l[4]=e=>Xe.value=!1),class:"text-gray-400 hover:text-gray-600"},"âœ•")]),r("div",Z,[d(r("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>rl.value=e),type:"text",placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸ Ð¸Ð»Ð¸ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ñƒ...",class:"w-full px-4 py-3 border dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white",onInput:fl},null,544),[[i,rl.value]]),nl.value?(x(),a("div",ee,[...l[24]||(l[24]=[r("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"},null,-1)])])):(x(),a("div",le,[(x(!0),a(o,null,u(sl.value,e=>(x(),a("div",{key:e.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl"},[r("div",te,[e.avatar_url?(x(),a("img",{key:0,src:gl(e.avatar_url),class:"w-10 h-10 rounded-full object-cover",onError:hl},null,40,ae)):(x(),a("div",re,n(vl(e.full_name)),1)),r("div",null,[r("div",se,n(e.full_name),1),r("div",ne,"â­ "+n(parseFloat(e.rating||5).toFixed(1)),1)])]),"accepted"===e.friendship_status?(x(),a("button",de," âœ“ Ð”Ñ€ÑƒÐ·ÑŒÑ ")):"pending"===e.friendship_status?(x(),a("button",ie," ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾ ")):(x(),a("button",{key:2,onClick:l=>(async e=>{var l,t,a;try{const t=await y.sendFriendRequest(e);if(t.success){const a=sl.value.findIndex(l=>l.id===e);-1!==a&&(sl.value[a].friendship_status="pending"),(null==(l=t.message)?void 0:l.includes("Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð´Ñ€ÑƒÐ·ÑŒÑ"))&&await bl()}}catch(r){alert((null==(a=null==(t=r.response)?void 0:t.data)?void 0:a.message)||"ÐžÑˆÐ¸Ð±ÐºÐ°")}})(e.id),class:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700"}," Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ",8,oe))]))),128))]))])])])):s("",!0),Ye.value?(x(),a("div",{key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:l[8]||(l[8]=c(e=>Ye.value=!1,["self"]))},[r("div",ue,[r("div",ce,[l[25]||(l[25]=r("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"ðŸ“¨ Ð—Ð°ÑÐ²ÐºÐ¸ Ð² Ð´Ñ€ÑƒÐ·ÑŒÑ",-1)),r("button",{onClick:l[7]||(l[7]=e=>Ye.value=!1),class:"text-gray-400 hover:text-gray-600"},"âœ•")]),r("div",ge,[0===Oe.value.length?(x(),a("div",ve," ÐÐµÑ‚ Ð½Ð¾Ð²Ñ‹Ñ… Ð·Ð°ÑÐ²Ð¾Ðº ")):s("",!0),(x(!0),a(o,null,u(Oe.value,e=>{var l,t,d;return x(),a("div",{key:e.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl"},[r("div",xe,[(null==(l=e.sender)?void 0:l.avatar_url)?(x(),a("img",{key:0,src:gl(e.sender.avatar_url),class:"w-10 h-10 rounded-full object-cover",onError:hl},null,40,be)):(x(),a("div",ye,n(vl(null==(t=e.sender)?void 0:t.full_name)),1)),r("div",null,[r("div",fe,n(null==(d=e.sender)?void 0:d.full_name),1),e.message?(x(),a("div",pe,"Â«"+n(e.message)+"Â»",1)):s("",!0)])]),r("div",he,[r("button",{onClick:l=>(async e=>{try{await y.acceptFriendRequest(e),await bl(),await yl()}catch(l){alert("ÐžÑˆÐ¸Ð±ÐºÐ°")}})(e.id),class:"px-3 py-2 bg-green-500 text-white rounded-lg"},"âœ“",8,ke),r("button",{onClick:l=>(async e=>{try{await y.rejectFriendRequest(e),await yl()}catch(l){alert("ÐžÑˆÐ¸Ð±ÐºÐ°")}})(e.id),class:"px-3 py-2 bg-red-500 text-white rounded-lg"},"âœ•",8,me)])])}),128))])])])):s("",!0),Ze.value?(x(),a("div",{key:2,class:"fixed inset-0 bg-black/50 flex items-end justify-center z-50",onClick:l[13]||(l[13]=c(e=>Ze.value=null,["self"]))},[r("div",we,[l[27]||(l[27]=r("div",{class:"w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-4"},null,-1)),r("div",_e,[(null==(t=Ze.value.friend)?void 0:t.avatar_url)?(x(),a("img",{key:0,src:gl(Ze.value.friend.avatar_url),class:"w-16 h-16 rounded-full object-cover",onError:hl},null,40,Ce)):(x(),a("div",je,n(vl(null==(v=Ze.value.friend)?void 0:v.full_name)),1)),r("div",null,[r("div",Fe,n(null==(He=Ze.value.friend)?void 0:He.full_name),1),r("div",$e,"Ð”Ñ€ÑƒÐ·ÑŒÑ Ñ "+n(xl(Ze.value.accepted_at)),1)])]),r("div",qe,[r("button",{onClick:l[9]||(l[9]=e=>{var l;pl(null==(l=Ze.value.friend)?void 0:l.id),Ze.value=null}),class:"w-full py-3 text-left px-4 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition"}," ðŸ‘¤ ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ "),r("button",{onClick:l[10]||(l[10]=e=>el.value=!0),class:"w-full py-3 text-left px-4 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition"},[l[26]||(l[26]=g(" ðŸ“ Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ: ",-1)),r("span",ze,n(Ze.value.group_name||"ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð°"),1)]),r("button",{onClick:l[11]||(l[11]=e=>(async e=>{var l;Ze.value=null,ll.value=!0,al.value=!0;try{const t=await y.client.get(`/friends/${null==(l=e.friend)?void 0:l.id}/stats`);tl.value=(null==t?void 0:t.data)||t}catch(t){console.error("Stats error:",t),tl.value=null}finally{al.value=!1}})(Ze.value)),class:"w-full py-3 text-left px-4 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition"}," ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð´Ñ€ÑƒÐ¶Ð±Ñ‹ "),r("button",{onClick:l[12]||(l[12]=e=>(async e=>{var l;if(confirm(`Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ${null==(l=e.friend)?void 0:l.full_name} Ð¸Ð· Ð´Ñ€ÑƒÐ·ÐµÐ¹?`))try{await y.removeFriend(e.friendship_id),Ne.value=Ne.value.filter(l=>l.friendship_id!==e.friendship_id),Ze.value=null}catch(t){alert("ÐžÑˆÐ¸Ð±ÐºÐ°")}})(Ze.value)),class:"w-full py-3 text-left px-4 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition"}," ðŸ—‘ï¸ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð· Ð´Ñ€ÑƒÐ·ÐµÐ¹ ")])])])):s("",!0),el.value?(x(),a("div",{key:3,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:l[14]||(l[14]=c(e=>el.value=!1,["self"]))},[r("div",Ie,[l[28]||(l[28]=r("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"ðŸ“ Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ",-1)),r("div",Le,[(x(),a(o,null,u(il,e=>{var l;return r("button",{key:e,onClick:l=>(async e=>{try{await y.client.put(`/friends/${Ze.value.friendship_id}/group`,{group_name:e||null}),Ze.value.group_name=e||null;const l=Ne.value.findIndex(e=>e.friendship_id===Ze.value.friendship_id);-1!==l&&(Ne.value[l].group_name=e||null),el.value=!1}catch(l){alert("ÐžÑˆÐ¸Ð±ÐºÐ°")}})(e),class:b(["w-full py-3 px-4 text-left rounded-xl transition",(null==(l=Ze.value)?void 0:l.group_name)===e?"bg-blue-100 dark:bg-blue-900/30 text-blue-700":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"])},n(e||"âœ• Ð‘ÐµÐ· Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹"),11,Re)}),64))])])])):s("",!0),ll.value?(x(),a("div",{key:4,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:l[16]||(l[16]=c(e=>ll.value=!1,["self"]))},[r("div",Ue,[l[33]||(l[33]=r("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð´Ñ€ÑƒÐ¶Ð±Ñ‹",-1)),al.value?(x(),a("div",Ee,[...l[29]||(l[29]=[r("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1)])])):tl.value?(x(),a("div",Se,[r("div",Ve," Ð”Ñ€ÑƒÐ·ÑŒÑ Ñ "+n(xl(tl.value.friendship_since)),1),r("div",De,[r("div",Be,[r("div",Je,n((null==(kl=tl.value.mutual_helps)?void 0:kl.i_helped_friend)||0),1),l[30]||(l[30]=r("div",{class:"text-xs text-gray-500"},"Ð¯ Ð¿Ð¾Ð¼Ð¾Ð³",-1))]),r("div",Pe,[r("div",We,n((null==(ml=tl.value.mutual_helps)?void 0:ml.friend_helped_me)||0),1),l[31]||(l[31]=r("div",{class:"text-xs text-gray-500"},"ÐœÐ½Ðµ Ð¿Ð¾Ð¼Ð¾Ð³Ð»Ð¸",-1))])]),r("div",Ae,[r("div",Ge,n((null==(wl=tl.value.mutual_helps)?void 0:wl.total)||0),1),l[32]||(l[32]=r("div",{class:"text-xs text-gray-500"},"Ð’ÑÐµÐ³Ð¾ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð¿Ð¾Ð¼Ð¾Ñ‰ÐµÐ¹",-1))])])):s("",!0),r("button",{onClick:l[15]||(l[15]=e=>ll.value=!1),class:"w-full mt-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-semibold"}," Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ")])])):s("",!0)])}}};export{He as default};
