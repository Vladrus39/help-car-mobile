import{r as e,o as t,h as l,f as a,l as r,g as s,x as o,v as i,F as n,i as c,y as d,k as u,m as x,t as p}from"./vendor-mW7CftnD-v1766841819551.js";import{a as h}from"./index-Y1ONQ0D2-v1766841819551.js";import{_ as m}from"./NavigationHeader-CU85bLe9-v1766841819551.js";import"./utils-MqoAbdB_-v1766841819551.js";import"./maps-CCq-KL9W-v1766841819551.js";const b={class:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-slate-800 dark:to-slate-900"},f={class:"max-w-4xl mx-auto py-6 sm:py-8 px-4"},v={class:"mb-4 sm:mb-6"},g={class:"flex items-center gap-2 text-xs sm:text-sm"},y={key:0,class:"flex justify-center py-12"},k={key:1,class:"text-center py-12"},w={key:2,class:"space-y-4"},_={class:"relative"},j=["src","alt"],$={key:1,class:"w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-xl sm:text-2xl font-bold"},C={key:2,class:"absolute bottom-0 right-0 w-4 h-4 bg-green-500 border-2 border-white rounded-full"},F={class:"flex-1 min-w-0"},E={class:"font-bold text-gray-800 dark:text-white truncate text-lg"},I={class:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400"},A={key:0,class:"flex items-center gap-1"},H={key:1,class:"text-green-500"},M={key:2,class:"text-gray-400"},N={key:0,class:"text-sm text-gray-400 dark:text-gray-500 italic truncate mt-1"},V={class:"flex-shrink-0 flex gap-2"},W=["disabled","onClick"],q=["onClick"],z={__name:"FavoritesView",setup(z){const B=d(),D=e([]),G=e(!0),J=e(null);function K(e){if(!e)return null;if(e.startsWith("http"))return e;return"https://help-car.online/api/v1".replace("/api/v1","")+e}return t(()=>{(async()=>{try{G.value=!0;const e=await h.client.get("/users/favorites");D.value=e.favorites}catch(e){console.error("Error fetching favorites:",e)}finally{G.value=!1}})()}),(e,t)=>{const d=o("router-link");return u(),l("div",b,[a(m),r("div",f,[r("div",v,[r("div",g,[a(d,{to:"/",class:"text-blue-600 hover:text-blue-800 font-semibold"},{default:s(()=>[...t[0]||(t[0]=[i(" üè† –ì–ª–∞–≤–Ω–∞—è ",-1)])]),_:1}),t[2]||(t[2]=r("span",{class:"text-gray-400"},"/",-1)),a(d,{to:"/profile",class:"text-blue-600 hover:text-blue-800 font-semibold"},{default:s(()=>[...t[1]||(t[1]=[i(" üë§ –ü—Ä–æ—Ñ–∏–ª—å ",-1)])]),_:1}),t[3]||(t[3]=r("span",{class:"text-gray-400"},"/",-1)),t[4]||(t[4]=r("span",{class:"text-gray-600 dark:text-gray-300 font-semibold"},"–ò–∑–±—Ä–∞–Ω–Ω—ã–µ",-1))])]),t[12]||(t[12]=r("h1",{class:"text-2xl sm:text-4xl font-black text-gray-900 dark:text-white mb-6 sm:mb-10 flex items-center gap-3"},[r("span",{class:"text-3xl"},"‚≠ê"),i(" –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–º–æ—â–Ω–∏–∫–∏ ")],-1)),G.value?(u(),l("div",y,[...t[5]||(t[5]=[r("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"},null,-1)])])):0===D.value.length?(u(),l("div",k,[t[7]||(t[7]=r("div",{class:"text-6xl mb-4"}," ‚≠ê ",-1)),t[8]||(t[8]=r("h2",{class:"text-xl font-bold text-gray-700 mb-2"}," –ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–º–æ—â–Ω–∏–∫–æ–≤ ",-1)),t[9]||(t[9]=r("p",{class:"text-gray-500 mb-6"}," –î–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ–º–æ—â–Ω–∏–∫–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –∏—Ö –Ω–∞—Ö–æ–¥–∏—Ç—å ",-1)),a(d,{to:"/map",class:"inline-block px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg"},{default:s(()=>[...t[6]||(t[6]=[i(" üó∫Ô∏è –ù–∞–π—Ç–∏ –ø–æ–º–æ—â–Ω–∏–∫–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ ",-1)])]),_:1})])):(u(),l("div",w,[(u(!0),l(n,null,c(D.value,e=>(u(),l("div",{key:e.id,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 sm:p-6 flex items-center gap-4 hover:shadow-xl transition"},[a(d,{to:`/user/${e.helper.id}`,class:"flex-shrink-0"},{default:s(()=>[r("div",_,[e.helper.avatar_url?(u(),l("img",{key:0,src:K(e.helper.avatar_url),alt:e.helper.full_name,class:"w-16 h-16 rounded-full object-cover"},null,8,j)):(u(),l("div",$,p(e.helper.full_name.charAt(0)),1)),e.helper.is_online?(u(),l("div",C)):x("",!0)])]),_:2},1032,["to"]),r("div",F,[a(d,{to:`/user/${e.helper.id}`,class:"block"},{default:s(()=>[r("h3",E,p(e.helper.full_name),1)]),_:2},1032,["to"]),r("div",I,[e.helper.rating?(u(),l("span",A," ‚≠ê "+p(parseFloat(e.helper.rating||5).toFixed(1)),1)):x("",!0),e.helper.is_online?(u(),l("span",H,"‚óè –û–Ω–ª–∞–π–Ω")):(u(),l("span",M,"‚óã –û—Ñ–ª–∞–π–Ω"))]),e.note?(u(),l("p",N," üìù "+p(e.note),1)):x("",!0)]),r("div",V,[r("button",{class:"p-2 sm:p-3 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800 transition",disabled:J.value===e.helper.id,title:"–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ",onClick:t=>(async e=>{try{J.value=e;const t=await h.client.post(`/users/${e}/chat`);t.chatId&&B.push(`/direct-chat/${t.chatId}`)}catch(t){console.error("Error starting chat:",t),alert("–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞—á–∞—Ç—å —á–∞—Ç")}finally{J.value=null}})(e.helper.id)},[...t[10]||(t[10]=[r("span",{class:"text-lg sm:text-xl"},"üí¨",-1)])],8,W),r("button",{class:"p-2 sm:p-3 bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-400 rounded-full hover:bg-red-200 dark:hover:bg-red-800 transition",title:"–£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ",onClick:t=>(async e=>{if(confirm("–£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ?"))try{await h.client.delete(`/users/${e}/favorite`),D.value=D.value.filter(t=>t.helper.id!==e)}catch(t){console.error("Error removing favorite:",t),alert("–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ")}})(e.helper.id)},[...t[11]||(t[11]=[r("span",{class:"text-lg sm:text-xl"},"üóëÔ∏è",-1)])],8,q)])]))),128))]))])])}}};export{z as default};
