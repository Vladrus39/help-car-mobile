import{r as e,c as t,o as l,h as a,e as s,l as r,f as n,g as d,x as i,m as o,t as u,v as c,F as x,i as g,n as v,s as p,y as b,k as f}from"./vendor-mW7CftnD-v1766841010885.js";import{_ as h}from"./NavigationHeader-De3rs1lY-v1766841010885.js";import{u as y,a as m}from"./index-BxK8qiyz-v1766841010885.js";import"./utils-B45sLh6N-v1766841010885.js";import"./maps-CCq-KL9W-v1766841010885.js";const k={class:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-slate-900 dark:to-slate-800"},w={key:1,class:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 shadow-lg py-4 px-6"},_={class:"max-w-7xl mx-auto flex items-center justify-between"},j={class:"max-w-2xl mx-auto py-8 px-4"},$={key:0,class:"text-center py-20"},C={key:1,class:"text-center py-20"},q={class:"text-gray-500 dark:text-gray-400 mb-6"},F={key:2,class:"space-y-6"},M={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8"},R={class:"flex flex-col items-center text-center"},D={class:"relative"},S={key:0,class:"w-28 h-28 rounded-full overflow-hidden shadow-lg mb-4"},U=["src","alt"],z={key:1,class:"w-28 h-28 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-4xl font-bold shadow-lg mb-4"},I={key:2,class:"absolute bottom-4 right-0 w-5 h-5 bg-green-500 border-3 border-white rounded-full",title:"–û–Ω–ª–∞–π–Ω"},L={key:3,class:"absolute -top-2 -right-2 w-10 h-10 bg-green-500 rounded-full flex items-center justify-center shadow-lg",title:"–ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å"},H={class:"text-2xl font-black text-gray-900 dark:text-white mb-1 flex items-center gap-2"},B={key:0,class:"text-blue-500",title:"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω"},N={key:1,class:"text-sm font-normal text-green-500"},P={key:2,class:"text-sm font-normal text-gray-400"},A={key:0,class:"mb-4"},O={class:"px-4 py-2 bg-green-100 text-green-700 rounded-full font-bold text-sm"},T={key:1,class:"flex items-center gap-1 mb-4"},V={class:"text-lg font-bold text-gray-700 dark:text-gray-200"},W={class:"grid grid-cols-3 gap-4 w-full max-w-md mb-6"},E={class:"bg-gray-50 dark:bg-slate-700 rounded-xl p-4 text-center"},G={class:"text-2xl font-black text-blue-600"},J={class:"bg-gray-50 dark:bg-slate-700 rounded-xl p-4 text-center"},K={class:"text-2xl font-black text-green-600"},Q={class:"bg-gray-50 dark:bg-slate-700 rounded-xl p-4 text-center"},X={class:"text-2xl font-black text-purple-600"},Y={key:0,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6"},Z={class:"flex items-center gap-4"},ee={key:0,class:"w-24 h-16 rounded-lg overflow-hidden flex-shrink-0"},te=["src"],le={key:1,class:"w-24 h-16 bg-gray-200 dark:bg-slate-700 rounded-lg flex items-center justify-center flex-shrink-0"},ae={class:"flex-1"},se={class:"font-bold text-gray-900 dark:text-white"},re={key:0,class:"text-gray-500 dark:text-gray-400 font-normal"},ne={class:"text-sm text-gray-600 dark:text-gray-300"},de={key:0},ie={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},oe={key:1,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6"},ue={class:"grid grid-cols-2 sm:grid-cols-4 gap-2"},ce={key:0,class:"flex items-center gap-2 p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"},xe={key:1,class:"flex items-center gap-2 p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"},ge={key:2,class:"flex items-center gap-2 p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"},ve={key:3,class:"flex items-center gap-2 p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"},pe={key:4,class:"flex items-center gap-2 p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"},be={key:5,class:"flex items-center gap-2 p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"},fe={key:6,class:"flex items-center gap-2 p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"},he={key:2,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6"},ye={class:"grid grid-cols-2 gap-4"},me={class:"p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl text-center"},ke={class:"text-2xl font-black text-green-600"},we={class:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl text-center"},_e={class:"text-2xl font-black text-purple-600"},je={key:3,class:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-2xl shadow-xl p-6 border-2 border-blue-200 dark:border-blue-800"},$e={class:"grid grid-cols-3 gap-4 mb-4"},Ce={class:"p-4 bg-white dark:bg-slate-800 rounded-xl text-center shadow"},qe={class:"text-2xl font-black text-blue-600"},Fe={class:"p-4 bg-white dark:bg-slate-800 rounded-xl text-center shadow"},Me={class:"text-2xl font-black text-green-600"},Re={class:"p-4 bg-white dark:bg-slate-800 rounded-xl text-center shadow"},De={class:"text-2xl font-black text-purple-600"},Se={key:0,class:"p-3 bg-white dark:bg-slate-800 rounded-xl flex items-center gap-3 shadow"},Ue=["href"],ze={key:4,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6"},Ie={class:"flex items-center justify-between mb-4"},Le={class:"text-lg font-black text-gray-900 dark:text-white flex items-center gap-2"},He={class:"space-y-3"},Be={class:"text-2xl"},Ne={class:"flex-1 min-w-0"},Pe={class:"font-semibold text-gray-900 dark:text-white truncate"},Ae={class:"text-xs text-gray-500"},Oe={key:5,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6"},Te={class:"flex items-center justify-between mb-4"},Ve={class:"text-lg font-black text-gray-900 dark:text-white flex items-center gap-2"},We={class:"space-y-3"},Ee=["src"],Ge={key:1,class:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm"},Je={class:"flex-1 min-w-0"},Ke={class:"font-semibold text-gray-900 dark:text-white truncate"},Qe={class:"text-xs text-gray-500"},Xe={key:6,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6"},Ye={class:"text-xl font-black text-gray-900 dark:text-white mb-4"},Ze={class:"space-y-4"},et={class:"flex items-start gap-3"},tt=["src"],lt={key:1,class:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0"},at={class:"flex-1 min-w-0"},st={class:"flex items-center justify-between mb-1"},rt={class:"flex items-center gap-1 text-yellow-500"},nt={key:0,class:"text-gray-600 dark:text-gray-300 text-sm mb-1"},dt={class:"text-xs text-gray-400"},it={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6"},ot={class:"text-gray-400 dark:text-gray-500 text-sm text-center"},ut={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6"},ct={key:0,class:"space-y-3"},xt=["disabled"],gt=["disabled"],vt=["disabled"],pt={key:1,class:"space-y-3"},bt={key:2,class:"text-center"},ft={__name:"PublicProfileView",setup(ft){const ht=p(),yt=b(),mt=y(),kt=e(null),wt=e({requests:0,helps:0}),_t=e([]),jt=e(!1),$t=e(null),Ct=e([]),qt=e([]),Ft=e(!1),Mt=e(!1),Rt=e(!0),Dt=e(!1),St=e(!1),Ut=e(!1),zt=e(!1),It=e(!1),Lt=e(null),Ht=t(()=>mt.user),Bt=t(()=>{var e,t;return(null==(e=Ht.value)?void 0:e.id)===(null==(t=kt.value)?void 0:t.id)}),Nt=t(()=>{var e;return!!(null==(e=kt.value)?void 0:e.skills)&&Object.values(kt.value.skills).some(e=>!0===e)}),Pt=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"?",At=e=>{if(!e)return null;if(e.startsWith("http"))return e;return`${"https://help-car.online/api/v1".replace("/api/v1","")}${e}`},Ot=e=>{if(!e)return"–Ω–µ–¥–∞–≤–Ω–æ";return new Date(e).toLocaleDateString("ru-RU",{year:"numeric",month:"long"})},Tt=e=>{if(!e&&0!==e)return"-";if(e<1)return"<1 –º–∏–Ω";if(e<60)return`${e} –º–∏–Ω`;const t=Math.round(e/60);if(t<24)return`${t} —á`;return`${Math.round(t/24)} –¥–Ω`},Vt=e=>{if(!e)return"";const t=new Date(e),l=new Date-t,a=Math.floor(l/6e4),s=Math.floor(l/36e5),r=Math.floor(l/864e5);return a<1?"–±—ã–ª(–∞) —Ç–æ–ª—å–∫–æ —á—Ç–æ":a<60?`–±—ã–ª(–∞) ${a} –º–∏–Ω –Ω–∞–∑–∞–¥`:s<24?`–±—ã–ª(–∞) ${s} —á –Ω–∞–∑–∞–¥`:r<7?`–±—ã–ª(–∞) ${r} –¥–Ω –Ω–∞–∑–∞–¥`:"–±—ã–ª(–∞) –¥–∞–≤–Ω–æ"},Wt=e=>({battery:"üîã",tire:"üõû",fuel:"‚õΩ",tow:"üöó",keys:"üîë",other:"üõ†Ô∏è"}[e]||"üöó"),Et=e=>({active:"–ê–∫—Ç–∏–≤–Ω–∞",pending:"–û–∂–∏–¥–∞–µ—Ç",in_progress:"–í —Ä–∞–±–æ—Ç–µ",completed:"–ó–∞–≤–µ—Ä—à–µ–Ω–∞",cancelled:"–û—Ç–º–µ–Ω–µ–Ω–∞"}[e]||e),Gt=e=>{if(!e)return"";const t=new Date(e),l=new Date-t,a=Math.floor(l/864e5);return 0===a?"—Å–µ–≥–æ–¥–Ω—è":1===a?"–≤—á–µ—Ä–∞":a<7?`${a} –¥–Ω–µ–π –Ω–∞–∑–∞–¥`:t.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})},Jt=async()=>{var e,t,l;if(null==(e=kt.value)?void 0:e.id)try{Dt.value=!0;const e=await m.client.post(`/users/${kt.value.id}/chat`);e.chatId&&yt.push(`/direct-chat/${e.chatId}`)}catch(a){console.error("Failed to start chat:",a),alert((null==(l=null==(t=a.response)?void 0:t.data)?void 0:l.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞—á–∞—Ç—å —á–∞—Ç")}finally{Dt.value=!1}},Kt=async()=>{var e,t,l;if(null==(e=kt.value)?void 0:e.id)try{St.value=!0,zt.value?(await m.client.delete(`/users/${kt.value.id}/favorite`),zt.value=!1):(await m.client.post(`/users/${kt.value.id}/favorite`),zt.value=!0)}catch(a){console.error("Failed to toggle favorite:",a),alert((null==(l=null==(t=a.response)?void 0:t.data)?void 0:l.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ")}finally{St.value=!1}},Qt=async()=>{var e,t,l,a;if((null==(e=kt.value)?void 0:e.id)&&!It.value)try{Ut.value=!0,await m.client.post("/friends/request",{friend_id:kt.value.id}),It.value=!0}catch(s){console.error("Failed to add friend:",s),409===(null==(t=s.response)?void 0:t.status)?It.value=!0:alert((null==(a=null==(l=s.response)?void 0:l.data)?void 0:a.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è")}finally{Ut.value=!1}};return l(async()=>{!mt.user&&localStorage.getItem("token")&&await mt.checkAuth(),(async()=>{var e,t,l;const a=ht.params.id;try{Rt.value=!0,Lt.value=null;const t=await m.client.get(`/users/${a}/public`);kt.value=t.user,wt.value=t.stats||{requests:0,helps:0},void 0!==t.is_friend&&(It.value=t.is_friend),t.friendship_stats&&($t.value=t.friendship_stats),t.friend_requests&&(Ct.value=t.friend_requests),t.friend_helps&&(qt.value=t.friend_helps);try{const t=await m.getUserRatings(a);_t.value=(null==(e=t.data)?void 0:e.data)||[]}catch(s){console.error("Failed to load reviews:",s),_t.value=[]}if(Ht.value)try{const e=await m.client.get(`/users/${a}/is-favorite`);zt.value=e.isFavorite}catch(s){console.error("Failed to check favorite status:",s)}}catch(r){console.error("Failed to load public profile:",r),Lt.value=(null==(l=null==(t=r.response)?void 0:t.data)?void 0:l.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"}finally{Rt.value=!1}})()}),(e,t)=>{var l,p,b;const y=i("router-link");return f(),a("div",k,[Ht.value?(f(),s(h,{key:0})):(f(),a("header",w,[r("div",_,[n(y,{to:"/",class:"flex items-center space-x-2 hover:opacity-80 transition text-white"},{default:d(()=>[...t[4]||(t[4]=[r("div",{class:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm"},[r("svg",{class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[r("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"})])],-1),r("span",{class:"text-xl font-black"},"Help Car",-1)])]),_:1}),n(y,{to:"/login",class:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl text-white font-bold transition"},{default:d(()=>[...t[5]||(t[5]=[c(" –í–æ–π—Ç–∏ ",-1)])]),_:1})])])),r("div",j,[Rt.value?(f(),a("div",$,[...t[6]||(t[6]=[r("div",{class:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1),r("p",{class:"text-gray-500 dark:text-gray-400 font-semibold"}," –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è... ",-1)])])):Lt.value?(f(),a("div",C,[t[8]||(t[8]=r("div",{class:"w-20 h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4"},[r("span",{class:"text-4xl"},"üòî")],-1)),t[9]||(t[9]=r("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"}," –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω ",-1)),r("p",q,u(Lt.value),1),n(y,{to:"/map",class:"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition"},{default:d(()=>[...t[7]||(t[7]=[c(" ‚Üê –ù–∞ –∫–∞—Ä—Ç—É ",-1)])]),_:1})])):kt.value?(f(),a("div",F,[r("button",{class:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition",onClick:t[0]||(t[0]=t=>e.$router.back())},[...t[10]||(t[10]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),r("span",{class:"font-semibold"},"–ù–∞–∑–∞–¥",-1)])]),r("div",M,[r("div",R,[r("div",D,[kt.value.avatar_url?(f(),a("div",S,[r("img",{src:At(kt.value.avatar_url),alt:kt.value.full_name,class:"w-full h-full object-cover"},null,8,U)])):(f(),a("div",z,u(Pt(kt.value.full_name)),1)),kt.value.is_online?(f(),a("div",I)):o("",!0),kt.value.is_available_to_help?(f(),a("div",L,[...t[11]||(t[11]=[r("span",{class:"text-lg"},"üöó",-1)])])):o("",!0)]),r("h1",H,[c(u(kt.value.full_name)+" ",1),kt.value.is_verified?(f(),a("span",B,"‚úÖ")):o("",!0),kt.value.is_online?(f(),a("span",N,"‚óè –æ–Ω–ª–∞–π–Ω")):kt.value.last_seen?(f(),a("span",P,u(Vt(kt.value.last_seen)),1)):o("",!0)]),kt.value.is_available_to_help?(f(),a("div",A,[r("span",O," üü¢ –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –≤ —Ä–∞–¥–∏—É—Å–µ "+u(kt.value.help_radius_km||10)+" –∫–º ",1)])):o("",!0),kt.value.rating?(f(),a("div",T,[t[12]||(t[12]=r("span",{class:"text-yellow-500 text-xl"},"‚≠ê",-1)),r("span",V,u(parseFloat(kt.value.rating||5).toFixed(1)),1),t[13]||(t[13]=r("span",{class:"text-sm text-gray-400"},"–∏–∑ 5",-1))])):o("",!0),r("div",W,[r("div",E,[r("div",G,u(wt.value.requests||0),1),t[14]||(t[14]=r("div",{class:"text-sm text-gray-500 dark:text-gray-400 font-semibold"}," –ó–∞—è–≤–æ–∫ ",-1))]),r("div",J,[r("div",K,u(wt.value.helps||0),1),t[15]||(t[15]=r("div",{class:"text-sm text-gray-500 dark:text-gray-400 font-semibold"}," –ü–æ–º–æ–≥ ",-1))]),r("div",Q,[r("div",X,u(Tt(wt.value.avgResponseTime)),1),t[16]||(t[16]=r("div",{class:"text-sm text-gray-500 dark:text-gray-400 font-semibold"}," –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ ",-1))])])])]),kt.value.car?(f(),a("div",Y,[t[18]||(t[18]=r("h2",{class:"text-lg font-black text-gray-900 dark:text-white mb-4 flex items-center gap-2"}," üöó –ê–≤—Ç–æ–º–æ–±–∏–ª—å ",-1)),r("div",Z,[kt.value.car.photo_url?(f(),a("div",ee,[r("img",{src:At(kt.value.car.photo_url),alt:"–ê–≤—Ç–æ",class:"w-full h-full object-cover"},null,8,te)])):(f(),a("div",le,[...t[17]||(t[17]=[r("span",{class:"text-3xl"},"üöó",-1)])])),r("div",ae,[r("div",se,[c(u(kt.value.car.brand)+" "+u(kt.value.car.model)+" ",1),kt.value.car.year?(f(),a("span",re,"("+u(kt.value.car.year)+")",1)):o("",!0)]),r("div",ne,[kt.value.car.color?(f(),a("span",de,"üé® "+u(kt.value.car.color),1)):o("",!0)]),kt.value.car.type?(f(),a("div",ie,u((ft=kt.value.car.type,{sedan:"–°–µ–¥–∞–Ω",hatchback:"–•—ç—Ç—á–±–µ–∫",suv:"–í–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫",crossover:"–ö—Ä–æ—Å—Å–æ–≤–µ—Ä",wagon:"–£–Ω–∏–≤–µ—Ä—Å–∞–ª",minivan:"–ú–∏–Ω–∏–≤—ç–Ω",pickup:"–ü–∏–∫–∞–ø",coupe:"–ö—É–ø–µ",truck:"–ì—Ä—É–∑–æ–≤–∏–∫"}[ft]||ft)),1)):o("",!0)])])])):o("",!0),kt.value.skills&&Nt.value?(f(),a("div",oe,[t[26]||(t[26]=r("h2",{class:"text-lg font-black text-gray-900 dark:text-white mb-4 flex items-center gap-2"}," üõ†Ô∏è –ù–∞–≤—ã–∫–∏ –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ ",-1)),r("div",ue,[kt.value.skills.has_jumper_cables?(f(),a("div",ce,[...t[19]||(t[19]=[r("span",{class:"text-lg"},"‚ö°",-1),r("span",{class:"text-xs font-medium"},"–ü—Ä–æ–≤–æ–¥–∞",-1)])])):o("",!0),kt.value.skills.has_tow_rope?(f(),a("div",xe,[...t[20]||(t[20]=[r("span",{class:"text-lg"},"üßµ",-1),r("span",{class:"text-xs font-medium"},"–¢—Ä–æ—Å",-1)])])):o("",!0),kt.value.skills.has_fuel_canister?(f(),a("div",ge,[...t[21]||(t[21]=[r("span",{class:"text-lg"},"‚õΩ",-1),r("span",{class:"text-xs font-medium"},"–ö–∞–Ω–∏—Å—Ç—Ä–∞",-1)])])):o("",!0),kt.value.skills.has_compressor?(f(),a("div",ve,[...t[22]||(t[22]=[r("span",{class:"text-lg"},"üí®",-1),r("span",{class:"text-xs font-medium"},"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä",-1)])])):o("",!0),kt.value.skills.can_change_tire?(f(),a("div",pe,[...t[23]||(t[23]=[r("span",{class:"text-lg"},"üõû",-1),r("span",{class:"text-xs font-medium"},"–ó–∞–º–µ–Ω–∞ –∫–æ–ª–µ—Å–∞",-1)])])):o("",!0),kt.value.skills.has_tools?(f(),a("div",be,[...t[24]||(t[24]=[r("span",{class:"text-lg"},"üß∞",-1),r("span",{class:"text-xs font-medium"},"–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",-1)])])):o("",!0),kt.value.skills.is_mechanic?(f(),a("div",fe,[...t[25]||(t[25]=[r("span",{class:"text-lg"},"üë®‚Äçüîß",-1),r("span",{class:"text-xs font-medium"},"–ê–≤—Ç–æ—Å–ª–µ—Å–∞—Ä—å",-1)])])):o("",!0)])])):o("",!0),kt.value.total_helps_given||kt.value.total_earned?(f(),a("div",he,[t[29]||(t[29]=r("h2",{class:"text-lg font-black text-gray-900 dark:text-white mb-4 flex items-center gap-2"}," üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ",-1)),r("div",ye,[r("div",me,[r("div",ke,u(kt.value.total_helps_given||0),1),t[27]||(t[27]=r("div",{class:"text-sm text-gray-600 dark:text-gray-300"}," ü§ù –ü–æ–º–æ—â–µ–π –æ–∫–∞–∑–∞–Ω–æ ",-1))]),r("div",we,[r("div",_e,u((m=kt.value.total_earned||0,m?new Intl.NumberFormat("ru-RU").format(m)+" ‚ÇΩ":"0 ‚ÇΩ")),1),t[28]||(t[28]=r("div",{class:"text-sm text-gray-600 dark:text-gray-300"}," üí∞ –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ ",-1))])])])):o("",!0),It.value&&$t.value?(f(),a("div",je,[t[35]||(t[35]=r("h2",{class:"text-lg font-black text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[c(" üë• –í–∞—à–∞ –≤–∑–∞–∏–º–æ–ø–æ–º–æ—â—å "),r("span",{class:"px-2 py-1 bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 text-xs rounded-full"}," –¢–æ–ª—å–∫–æ –¥–ª—è –¥—Ä—É–∑–µ–π ")],-1)),r("div",$e,[r("div",Ce,[r("div",qe,u((null==(l=$t.value.mutual_helps)?void 0:l.i_helped_friend)||0),1),t[30]||(t[30]=r("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," –í—ã –ø–æ–º–æ–≥–ª–∏ ",-1))]),r("div",Fe,[r("div",Me,u((null==(p=$t.value.mutual_helps)?void 0:p.friend_helped_me)||0),1),t[31]||(t[31]=r("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," –ü–æ–º–æ–≥ –≤–∞–º ",-1))]),r("div",Re,[r("div",De,u((null==(b=$t.value.mutual_helps)?void 0:b.total)||0),1),t[32]||(t[32]=r("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," –í—Å–µ–≥–æ ",-1))])]),kt.value.phone?(f(),a("div",Se,[t[34]||(t[34]=r("span",{class:"text-2xl"},"üìû",-1)),r("div",null,[t[33]||(t[33]=r("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"–¢–µ–ª–µ—Ñ–æ–Ω",-1)),r("a",{href:"tel:"+kt.value.phone,class:"font-bold text-blue-600 hover:underline"},u(kt.value.phone),9,Ue)])])):o("",!0)])):o("",!0),It.value&&Ct.value.length>0?(f(),a("div",ze,[r("div",Ie,[r("h2",Le," üì© –ï–≥–æ –∑–∞—è–≤–∫–∏ ("+u(wt.value.requests)+") ",1),Ct.value.length>3?(f(),a("button",{key:0,class:"text-sm text-blue-600 hover:underline",onClick:t[1]||(t[1]=e=>Ft.value=!Ft.value)},u(Ft.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"),1)):o("",!0)]),r("div",He,[(f(!0),a(x,null,g(Ft.value?Ct.value:Ct.value.slice(0,3),e=>{return f(),a("div",{key:e.id,class:"p-3 bg-gray-50 dark:bg-slate-700 rounded-xl flex items-center gap-3"},[r("span",Be,u(Wt(e.type)),1),r("div",Ne,[r("p",Pe,u(e.description||e.type),1),r("p",Ae,u(Gt(e.created_at)),1)]),r("span",{class:v([(t=e.status,{active:"bg-yellow-100 text-yellow-700",pending:"bg-blue-100 text-blue-700",in_progress:"bg-purple-100 text-purple-700",completed:"bg-green-100 text-green-700",cancelled:"bg-gray-100 text-gray-700"}[t]||"bg-gray-100 text-gray-700"),"px-2 py-1 text-xs rounded-full font-semibold"])},u(Et(e.status)),3)]);var t}),128))])])):o("",!0),It.value&&qt.value.length>0?(f(),a("div",Oe,[r("div",Te,[r("h2",Ve," ü§ù –ö–æ–º—É –ø–æ–º–æ–≥ ("+u(wt.value.helps)+") ",1),qt.value.length>3?(f(),a("button",{key:0,class:"text-sm text-blue-600 hover:underline",onClick:t[2]||(t[2]=e=>Mt.value=!Mt.value)},u(Mt.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"),1)):o("",!0)]),r("div",We,[(f(!0),a(x,null,g(Mt.value?qt.value:qt.value.slice(0,3),e=>{var l,s,n,d,i,o;return f(),a("div",{key:e.id,class:"p-3 bg-gray-50 dark:bg-slate-700 rounded-xl flex items-center gap-3"},[(null==(s=null==(l=e.helpRequest)?void 0:l.user)?void 0:s.avatar_url)?(f(),a("img",{key:0,src:At(e.helpRequest.user.avatar_url),class:"w-10 h-10 rounded-full object-cover",alt:""},null,8,Ee)):(f(),a("div",Ge,u(Pt(null==(d=null==(n=e.helpRequest)?void 0:n.user)?void 0:d.full_name)),1)),r("div",Je,[r("p",Ke,u((null==(o=null==(i=e.helpRequest)?void 0:i.user)?void 0:o.full_name)||"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"),1),r("p",Qe,u(Gt(e.created_at)),1)]),t[36]||(t[36]=r("span",{class:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full font-semibold"}," ‚úÖ –ü–æ–º–æ–≥ ",-1))])}),128))])])):o("",!0),_t.value.length>0?(f(),a("div",Xe,[r("h2",Ye," ‚≠ê –û—Ç–∑—ã–≤—ã ("+u(_t.value.length)+") ",1),r("div",Ze,[(f(!0),a(x,null,g(_t.value.slice(0,jt.value?_t.value.length:3),e=>{var t,l,s;return f(),a("div",{key:e.id,class:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl"},[r("div",et,[(null==(t=e.rater)?void 0:t.avatar_url)?(f(),a("img",{key:0,src:At(e.rater.avatar_url),class:"w-10 h-10 rounded-full object-cover flex-shrink-0",alt:""},null,8,tt)):(f(),a("div",lt,u(Pt(null==(l=e.rater)?void 0:l.full_name)),1)),r("div",at,[r("div",st,[n(y,{to:`/user/${null==(s=e.rater)?void 0:s.id}`,class:"font-semibold text-gray-900 dark:text-white hover:text-blue-600 transition truncate"},{default:d(()=>{var t;return[c(u((null==(t=e.rater)?void 0:t.full_name)||"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"),1)]}),_:2},1032,["to"]),r("div",rt,[(f(!0),a(x,null,g(e.rating,e=>(f(),a("span",{key:e},"‚≠ê"))),128)),(f(!0),a(x,null,g(5-e.rating,e=>(f(),a("span",{key:"e"+e,class:"text-gray-300"},"‚òÜ"))),128))])]),e.comment?(f(),a("p",nt,u(e.comment),1)):o("",!0),r("p",dt,u(Gt(e.created_at)),1)])])])}),128))]),_t.value.length>3?(f(),a("button",{key:0,class:"mt-4 w-full py-2 text-blue-600 hover:text-blue-700 font-semibold text-sm",onClick:t[3]||(t[3]=e=>jt.value=!jt.value)},u(jt.value?"–°–∫—Ä—ã—Ç—å":`–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ (${_t.value.length})`),1)):o("",!0)])):o("",!0),r("div",it,[r("p",ot," –ù–∞ —Å–µ—Ä–≤–∏—Å–µ —Å "+u(Ot(kt.value.created_at)),1)]),r("div",ut,[Ht.value&&!Bt.value?(f(),a("div",ct,[r("button",{disabled:Dt.value,class:"w-full px-6 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold text-lg hover:from-blue-600 hover:to-purple-700 transition shadow-lg disabled:opacity-50",onClick:Jt},u(Dt.value?"–ó–∞–≥—Ä—É–∑–∫–∞...":"üí¨ –ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ"),9,xt),r("button",{disabled:St.value,class:v(["w-full px-6 py-3 rounded-xl font-bold transition shadow-lg disabled:opacity-50",zt.value?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"]),onClick:Kt},u(St.value?"–ó–∞–≥—Ä—É–∑–∫–∞...":zt.value?"‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–º":"‚òÜ –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"),11,gt),r("button",{disabled:Ut.value,class:"w-full px-6 py-3 bg-green-100 text-green-700 rounded-xl font-bold hover:bg-green-200 transition shadow-lg disabled:opacity-50",onClick:Qt},u(Ut.value?"–ó–∞–≥—Ä—É–∑–∫–∞...":It.value?"‚úÖ –í –¥—Ä—É–∑—å—è—Ö":"üë• –î–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è"),9,vt)])):Ht.value?(f(),a("div",bt,[n(y,{to:"/profile",class:"inline-block px-6 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-200 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-slate-600 transition"},{default:d(()=>[...t[38]||(t[38]=[c(" ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å ",-1)])]),_:1})])):(f(),a("div",pt,[n(y,{to:"/login",class:"block w-full px-6 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold text-center text-lg hover:from-blue-600 hover:to-purple-700 transition shadow-lg"},{default:d(()=>[...t[37]||(t[37]=[c(" üîê –í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞—Ç—å ",-1)])]),_:1})]))])])):o("",!0)])]);var m,ft}}};export{ft as default};
