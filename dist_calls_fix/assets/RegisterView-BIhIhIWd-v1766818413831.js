const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-05yRke8F-v1766818413831.js","assets/vendor-mW7CftnD-v1766818413831.js","assets/utils-3YOAKp3O-v1766818413831.js","assets/maps-CCq-KL9W-v1766818413831.js","assets/index-CIsHz68s.css"])))=>i.map(i=>d[i]);
import{c as e,r as l}from"./index-05yRke8F-v1766818413831.js";import{r as t,y as a,h as s,G as o,l as r,p as n,m as i,I as u,J as c,v as d,t as v,f as p,g as m,x as b,k as g}from"./vendor-mW7CftnD-v1766818413831.js";import"./utils-3YOAKp3O-v1766818413831.js";import"./maps-CCq-KL9W-v1766818413831.js";const X={class:"min-h-screen flex items-center justify-center relative overflow-hidden py-12 px-4"},x={class:"max-w-md w-full relative z-10"},f={class:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-10"},h={key:0,class:"p-5 bg-red-50 border-2 border-red-200 rounded-xl"},y={class:"text-base text-red-700 font-bold"},w={key:1,class:"p-5 bg-green-50 border-2 border-green-200 rounded-xl"},k={class:"text-base text-green-700 font-bold"},_=["disabled"],j={key:0},S={key:1,class:"flex items-center justify-center"},V={class:"mt-8 text-center"},z={class:"text-gray-700 font-semibold text-lg"},A={__name:"RegisterView",setup(A){const E=a(),C=t(!0);console.log("RegisterView mounted, router:",E);const M=t({full_name:"",email:"",phone:"",password:""}),P=t(!1),q=t(null),I=t(null);async function L(){var t,a,s,o,r,n;P.value=!0,q.value=null,I.value=null;try{if(!M.value.full_name||!M.value.full_name.trim())return q.value="–£–∫–∞–∂–∏—Ç–µ –≤–∞—à–µ –∏–º—è",void(P.value=!1);if(!M.value.phone||!M.value.phone.trim())return q.value="–£–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞",void(P.value=!1);if(!M.value.email||!M.value.email.trim())return q.value="–£–∫–∞–∂–∏—Ç–µ email",void(P.value=!1);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M.value.email))return q.value="–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email",void(P.value=!1);let t=M.value.phone.replace(/[\s\-()]/g,"");t.startsWith("8")&&11===t.length?t="+7"+t.substring(1):t.startsWith("7")&&11===t.length&&!t.startsWith("+")?t="+"+t:!t.startsWith("+")&&/^[0-9]{10}$/.test(t)&&(t="+7"+t);if(!/^\+?[0-9]{10,15}$/.test(t))return q.value="–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: 8XXXXXXXXXX, +7XXXXXXXXXX –∏–ª–∏ 7XXXXXXXXXX",void(P.value=!1);if(!M.value.password||M.value.password.length<6)return q.value="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤",void(P.value=!1);console.log("–û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:",{...M.value,password:"***"});const{useAuthStore:a}=await e(async()=>{const{useAuthStore:e}=await import("./index-05yRke8F-v1766818413831.js").then(e=>e.g);return{useAuthStore:e}},__vite__mapDeps([0,1,2,3,4])),s=a();console.log("üìù –ù–∞—á–∞–ª–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏...");const o=await s.register(M.value,C.value);if(console.log("üìù –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:",o),console.log("üìù authStore.user:",s.user),console.log("üìù authStore.token:",s.token),!s.user||!s.token)throw console.error("‚ùå –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã"),new Error("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏.");localStorage.setItem("rememberMe",String(C.value));try{const e=await l();console.log("üîî Push notifications:",e?"enabled":"disabled")}catch(i){console.warn("‚ö†Ô∏è Push notifications not available:",i)}console.log("‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞, –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É..."),I.value="‚úÖ –ê–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω! –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É...",await new Promise(e=>setTimeout(e,1e3)),E.push("/map")}catch(u){console.error("–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:",u);try{const l=await e(()=>import("./index-05yRke8F-v1766818413831.js").then(e=>e.g),__vite__mapDeps([0,1,2,3,4])).then(e=>e.useAuthStore()).catch(e=>(console.warn("‚ö†Ô∏è Failed to import auth store:",e),null));q.value=l?l.error||(null==(a=null==(t=u.response)?void 0:t.data)?void 0:a.error)||u.message||"–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.":(null==(o=null==(s=u.response)?void 0:s.data)?void 0:o.error)||u.message||"–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."}catch(c){console.warn("‚ö†Ô∏è Failed to import auth store:",c),q.value=(null==(n=null==(r=u.response)?void 0:r.data)?void 0:n.error)||u.message||"–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."}}finally{P.value=!1}}return(e,l)=>{const t=b("router-link");return g(),s("div",X,[l[14]||(l[14]=o('<div class="absolute inset-0"><img src="/assets/road-landscape.svg" alt="" class="w-full h-full object-cover opacity-35"></div><div class="absolute inset-0 bg-gradient-to-br from-indigo-900/75 via-blue-900/65 to-cyan-900/75"></div><div class="absolute top-1/4 right-1/3 w-96 h-96 bg-cyan-400/10 rounded-full blur-3xl animate-pulse" style="animation-delay:0.5s;"></div><div class="absolute bottom-1/4 left-1/3 w-96 h-96 bg-indigo-400/10 rounded-full blur-3xl animate-pulse"></div>',4)),r("div",x,[r("div",f,[l[13]||(l[13]=o('<div class="text-center mb-10"><div class="flex items-center justify-center space-x-3 mb-6"><div class="w-16 h-16 bg-gradient-to-br from-indigo-500 to-cyan-600 rounded-2xl flex items-center justify-center shadow-lg"><svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"></path></svg></div><h1 class="text-4xl font-black text-gray-900"> Help-Car </h1></div><h2 class="text-3xl font-black text-gray-900 mb-3"> –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç </h2><p class="text-lg text-gray-700 font-semibold"> –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É </p></div>',1)),r("form",{class:"space-y-6",onSubmit:n(L,["prevent"])},[r("div",null,[l[4]||(l[4]=r("label",{class:"block text-base font-black text-gray-900 mb-3"},"üë§ –ü–æ–ª–Ω–æ–µ –∏–º—è",-1)),u(r("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>M.value.full_name=e),type:"text",autocomplete:"name",required:"",class:"w-full px-5 py-4 text-lg rounded-xl border-2 border-gray-300 focus:ring-4 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"},null,512),[[c,M.value.full_name]])]),r("div",null,[l[5]||(l[5]=r("label",{class:"block text-base font-black text-gray-900 mb-3"},[d("üì± –¢–µ–ª–µ—Ñ–æ–Ω "),r("span",{class:"text-red-500"},"*")],-1)),u(r("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>M.value.phone=e),type:"tel",autocomplete:"tel",required:"",class:"w-full px-5 py-4 text-lg rounded-xl border-2 border-gray-300 focus:ring-4 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"8XXXXXXXXXX –∏–ª–∏ +7XXXXXXXXXX"},null,512),[[c,M.value.phone]]),l[6]||(l[6]=r("p",{class:"text-sm text-gray-500 mt-2"}," –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Ö–æ–¥–∞ –∏ –æ–ø–ª–∞—Ç—ã –ø–æ –°–ë–ü. –§–æ—Ä–º–∞—Ç—ã: 8XXXXXXXXXX, +7XXXXXXXXXX, 7XXXXXXXXXX ",-1))]),r("div",null,[l[7]||(l[7]=r("label",{class:"block text-base font-black text-gray-900 mb-3"},[d("üìß Email "),r("span",{class:"text-red-500"},"*")],-1)),u(r("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>M.value.email=e),type:"email",autocomplete:"email",required:"",class:"w-full px-5 py-4 text-lg rounded-xl border-2 border-gray-300 focus:ring-4 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"your@email.com"},null,512),[[c,M.value.email]]),l[8]||(l[8]=r("p",{class:"text-sm text-gray-500 mt-2"}," Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π ",-1))]),r("div",null,[l[9]||(l[9]=r("label",{class:"block text-base font-black text-gray-900 mb-3"},"üîí –ü–∞—Ä–æ–ª—å",-1)),u(r("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>M.value.password=e),type:"password",autocomplete:"new-password",required:"",minlength:"6",class:"w-full px-5 py-4 text-lg rounded-xl border-2 border-gray-300 focus:ring-4 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤"},null,512),[[c,M.value.password]])]),q.value?(g(),s("div",h,[r("p",y," ‚ö†Ô∏è "+v(q.value),1)])):i("",!0),I.value?(g(),s("div",w,[r("p",k," ‚úÖ "+v(I.value),1)])):i("",!0),r("button",{type:"submit",disabled:P.value,class:"w-full py-6 px-6 text-2xl bg-gradient-to-r from-indigo-600 to-cyan-600 hover:from-indigo-700 hover:to-cyan-700 text-white font-black rounded-xl transition-all transform hover:scale-105 shadow-xl hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed"},[P.value?(g(),s("span",S,[...l[10]||(l[10]=[r("svg",{class:"animate-spin h-6 w-6 mr-3",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),d(" –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è... ",-1)])])):(g(),s("span",j,"üéâ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"))],8,_)],32),r("div",V,[r("p",z,[l[12]||(l[12]=d(" –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? ",-1)),p(t,{to:"/login",class:"text-blue-600 hover:text-blue-700 font-black"},{default:m(()=>[...l[11]||(l[11]=[d(" –í–æ–π—Ç–∏ ",-1)])]),_:1})])])])])])}}};export{A as default};
