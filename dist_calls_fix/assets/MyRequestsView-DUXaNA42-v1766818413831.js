import{r as e,o as t,y as l,a,h as r,f as s,l as o,m as n,t as i,F as d,i as u,g as c,x as p,p as g,I as x,J as v,k as b,e as y,u as m,n as f,v as h,W as k}from"./vendor-mW7CftnD-v1766818413831.js";import{u as w,a as _,l as C}from"./index-05yRke8F-v1766818413831.js";import{_ as q}from"./NavigationHeader-iqVP4xtF-v1766818413831.js";import{u as R}from"./useRequestHelpers-DatJIdsA-v1766818413831.js";import"./utils-3YOAKp3O-v1766818413831.js";import"./maps-CCq-KL9W-v1766818413831.js";const j={class:"min-h-screen bg-gray-50 dark:bg-slate-900"},F={class:"max-w-4xl mx-auto py-4 sm:py-8 px-2 sm:px-4"},P={key:0,class:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl"},S={class:"text-red-700 font-bold"},H={class:"space-y-4 sm:space-y-6"},$={class:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0 mb-3 sm:mb-5"},I={class:"text-lg sm:text-2xl font-black text-gray-900 dark:text-white"},V={class:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1 font-medium"},E={class:"text-base sm:text-lg text-gray-800 dark:text-gray-200 mb-4 sm:mb-5 leading-relaxed"},M={class:"flex items-center gap-3"},z={class:"font-bold text-gray-900"},U={key:2,class:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/10 rounded-lg"},N={class:"flex items-center justify-between"},W={class:"text-sm text-gray-600 dark:text-gray-400"},D=["disabled","onClick"],A={key:1,class:"px-3 py-2 bg-yellow-100 text-yellow-700 text-sm rounded-lg font-semibold"},B={key:2,class:"px-3 py-2 bg-green-100 text-green-700 text-sm rounded-lg font-semibold"},T={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},J={class:"text-green-600 dark:text-green-400 font-black text-xl sm:text-2xl"},L={class:"flex flex-wrap gap-2"},O=["onClick"],G=["onClick"],K=["onClick"],Q=["onClick"],X=["onClick"],Y={key:0,class:"text-center py-12"},Z={class:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8"},ee={class:"text-gray-600 mb-6"},te={class:"flex justify-center gap-2 mb-6"},le=["onClick"],ae={class:"flex gap-3"},re=["disabled"],se={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-6"},oe={class:"flex flex-wrap gap-2 mb-4"},ne=["onClick"],ie={class:"flex gap-3"},de=["disabled"],ue={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-6 max-h-[80vh] overflow-y-auto"},ce={key:0,class:"text-center py-4"},pe={key:1,class:"text-center py-4"},ge={key:2,class:"space-y-2 max-h-60 overflow-y-auto mb-4"},xe=["value"],ve=["src","alt"],be={key:1,class:"w-10 h-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-lg"},ye={class:"flex-1"},me={class:"font-semibold text-gray-900 dark:text-white"},fe={key:0,class:"text-xs text-green-600"},he={key:1,class:"text-xs text-gray-500"},ke={class:"flex gap-3"},we=["disabled"],_e={__name:"MyRequestsView",setup(_e){const Ce=l(),{getProblemTypeName:qe,getStatusName:Re,getStatusClass:je,formatDate:Fe}=R();function Pe(e){const t=Math.abs(e)%100,l=t%10;return t>10&&t<20?"–æ—Ç–∫–ª–∏–∫–æ–≤":l>1&&l<5?"–æ—Ç–∫–ª–∏–∫–∞":1===l?"–æ—Ç–∫–ª–∏–∫":"–æ—Ç–∫–ª–∏–∫–æ–≤"}const Se=w(),He=e=>{if(!e)return null;if(e.startsWith("http"))return e;return"https://help-car.online/api/v1".replace("/api/v1","")+e},$e=e([]),Ie=e(!1),Ve=e(null),Ee=e(0),Me=e(""),ze=e(!1);let Ue=null;const Ne=e(!1),We=e(""),De=e(!1),Ae=e(null),Be=["–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞","–ù–∞—à—ë–ª –ø–æ–º–æ—â—å –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ","–î–æ–ª–≥–æ –Ω–µ—Ç –æ—Ç–∫–ª–∏–∫–æ–≤","–ò–∑–º–µ–Ω–∏–ª–∏—Å—å –ø–ª–∞–Ω—ã","–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏"],Te=e(!1),Je=e(null),Le=e([]),Oe=e([]),Ge=e(""),Ke=e(!1),Qe=e(!1);t(async()=>{console.log("üìÑ MyRequestsView mounted");const e=localStorage.getItem("token");if(console.log("Token exists:",!!e),!e)return console.warn("‚ö†Ô∏è No token, redirecting to login"),void Ce.push("/login");await Ye(),function(){const e=localStorage.getItem("token");if(!e)return;const t="https:"===window.location.protocol?`wss://${window.location.host}`:`ws://${window.location.host}`;Ue=C(t.replace(/^ws/,"http"),{auth:{token:e}}),Ue.on("connect",()=>{console.log("‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ MyRequestsView")}),Ue.on("disconnect",()=>{console.log("‚ùå WebSocket –æ—Ç–∫–ª—é—á–µ–Ω")}),Ue.on("new_response",e=>{var t;console.log("üîî –ù–æ–≤—ã–π –æ—Ç–∫–ª–∏–∫:",e);const l=$e.value.find(t=>t.id===e.helpRequest.id);l&&(l.responses_count=e.helpRequest.responses_count,alert(`üîî –ù–æ–≤—ã–π –æ—Ç–∫–ª–∏–∫ –Ω–∞ –≤–∞—à—É –∑–∞—è–≤–∫—É "${qe(l.problem_type)}" –æ—Ç ${(null==(t=e.response.helper)?void 0:t.full_name)||"–ø–æ–º–æ—â–Ω–∏–∫–∞"}!`)),Ye()}),Ue.on("response_accepted",e=>{console.log("‚úÖ –í–∞—à –æ—Ç–∫–ª–∏–∫ –ø—Ä–∏–Ω—è—Ç:",e),alert("‚úÖ –û—Ç–ª–∏—á–Ω–æ! –í–∞—à –æ—Ç–∫–ª–∏–∫ –ø—Ä–∏–Ω—è—Ç. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—â–∞—Ç—å—Å—è —Å –∞–≤—Ç–æ—Ä–æ–º –∑–∞—è–≤–∫–∏ –≤ —á–∞—Ç–µ."),Ye()}),Ue.on("response_rejected",e=>{console.log("‚ùå –í–∞—à –æ—Ç–∫–ª–∏–∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω:",e),Ye()})}()}),a(()=>{Ue&&(Ue.disconnect(),Ue=null)});const Xe=e(null);async function Ye(){var e;try{Xe.value=null,console.log("üîÑ –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞—è–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...");const e=await _.getMyRequests();console.log("üì¶ –û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:",e);const a=(null==e?void 0:e.data)||e||[];console.log("üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫:",a.length);let r=[];try{const e=await _.getFriends(),t=(null==e?void 0:e.data)||e||[];r=t.map(e=>{var t;return null==(t=e.friend)?void 0:t.id})}catch(t){console.error("Error loading friends:",t)}const s=(a||[]).map(e=>{var t;const l=e.createdAt||e.created_at;return l||console.warn("‚ö†Ô∏è –ó–∞—è–≤–∫–∞ –±–µ–∑ –¥–∞—Ç—ã:",e.id,"–ø–æ–ª—è:",Object.keys(e)),{...e,created_at:l,helperIsFriend:!!(null==(t=e.helper)?void 0:t.id)&&r.includes(e.helper.id),helperFriendRequestSent:!1,sendingFriendRequest:!1}});$e.value=s.sort((e,t)=>{const l=new Date(e.created_at);return new Date(t.created_at)-l}),console.log("‚úÖ –ó–∞—è–≤–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã:",$e.value.length);for(const t of $e.value)if("completed"===t.status&&t.helper_id)try{const e=await _.getRatingStatus(t.id);t.userHasRated=e.currentUserHasRated,t.mutualRatingsComplete=e.mutualRatingsComplete}catch(l){console.error("Error loading rating status:",l)}}catch(l){console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:",l),console.error("–î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏:",(null==(e=l.response)?void 0:e.data)||l.message),Xe.value="–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É."}}async function Ze(){if(Ae.value&&We.value.trim())try{De.value=!0,await _.cancelHelpRequest(Ae.value.id,We.value.trim()),Ne.value=!1,Ae.value=null,We.value="",await Ye()}catch(e){console.error("Error cancelling request:",e),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–ø—Ä–æ—Å–∞")}finally{De.value=!1}}async function et(){var e,t;if(0!==Oe.value.length&&Je.value)try{Qe.value=!0;const e=await _.client.post(`/help-requests/${Je.value.id}/share`,{friendIds:Oe.value,message:Ge.value||null});e.success&&(alert(`‚úÖ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ ${e.notifiedCount} –¥—Ä—É–∑—å—è–º!`),Te.value=!1,Je.value=null,Oe.value=[],Ge.value="")}catch(l){console.error("Error sharing request:",l),alert((null==(t=null==(e=l.response)?void 0:e.data)?void 0:t.message)||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è")}finally{Qe.value=!1}}async function tt(){if(0!==Ee.value)try{ze.value=!0,await _.createRating(Ve.value.id,{rating:Ee.value,comment:Me.value||null}),alert("–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ü–µ–Ω–∫—É!"),Ie.value=!1,await Ye()}catch(e){console.error("Error submitting rating:",e),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ü–µ–Ω–∫–∏")}finally{ze.value=!1}else alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ü–µ–Ω–∫—É")}return(e,t)=>{var l,a;const w=p("router-link");return b(),r("div",j,[s(q),o("div",F,[t[18]||(t[18]=o("h1",{class:"text-2xl sm:text-4xl font-black mb-6 sm:mb-10 text-gray-900 dark:text-white"}," –ú–æ–∏ –∑–∞–ø—Ä–æ—Å—ã ",-1)),Xe.value?(b(),r("div",P,[o("p",S,i(Xe.value),1)])):n("",!0),o("div",H,[(b(!0),r(d,null,u($e.value,e=>(b(),r("div",{key:e.id,class:"bg-white dark:bg-slate-800 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-8 hover:shadow-2xl transition-all"},[o("div",$,[o("div",null,[o("h3",I,i(m(qe)(e.problem_type)),1),o("p",V,i(m(Fe)(e.created_at)),1)]),o("span",{class:f([m(je)(e.status),"px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-sm sm:text-base font-black self-start"])},i(m(Re)(e.status)),3)]),o("p",E,i(e.description),1),"active"===e.status&&(e.responses_count>0||e.responsesCount>0)?(b(),y(w,{key:0,to:`/responses/${e.id}`,class:"mb-4 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-300 rounded-xl flex items-center justify-between hover:from-yellow-100 hover:to-orange-100 transition-all cursor-pointer group"},{default:c(()=>[o("div",M,[t[11]||(t[11]=o("span",{class:"text-2xl"},"üëã",-1)),o("div",null,[o("p",z,i(e.responses_count||e.responsesCount)+" "+i(Pe(e.responses_count||e.responsesCount||0)),1),t[10]||(t[10]=o("p",{class:"text-sm text-gray-600"}," –ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å ",-1))])]),t[12]||(t[12]=o("span",{class:"text-yellow-600 font-bold text-xl group-hover:translate-x-1 transition-transform"},"‚Üí",-1))]),_:2},1032,["to"])):"active"===e.status?(b(),y(w,{key:1,to:`/responses/${e.id}`,class:"mb-4 p-4 bg-gray-50 border-2 border-gray-200 rounded-xl flex items-center justify-between hover:bg-gray-100 transition-all cursor-pointer group"},{default:c(()=>[...t[13]||(t[13]=[o("div",{class:"flex items-center gap-3"},[o("span",{class:"text-2xl"},"‚è≥"),o("div",null,[o("p",{class:"font-bold text-gray-700"}," –ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∫–ª–∏–∫–æ–≤ "),o("p",{class:"text-sm text-gray-500"}," –û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–∫–ª–∏–∫–æ–≤ –æ—Ç –ø–æ–º–æ—â–Ω–∏–∫–æ–≤ ")])],-1),o("span",{class:"text-gray-400 font-bold text-xl group-hover:translate-x-1 transition-transform"},"‚Üí",-1)])]),_:1},8,["to"])):n("",!0),e.helper?(b(),r("div",U,[o("div",N,[o("div",null,[t[14]||(t[14]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-semibold mb-1"}," –ü–æ–º–æ—â–Ω–∏–∫: ",-1)),s(w,{to:`/user/${e.helper.id}`,class:"text-lg font-bold text-gray-900 dark:text-white hover:text-blue-600 transition block"},{default:c(()=>[h(i(e.helper.full_name),1)]),_:2},1032,["to"]),o("p",W," –†–µ–π—Ç–∏–Ω–≥: ‚≠ê "+i(e.helper.rating||"0.00"),1)]),e.helperIsFriend||e.helperFriendRequestSent?e.helperFriendRequestSent?(b(),r("span",A," ‚úì –ó–∞—è–≤–∫–∞ ")):e.helperIsFriend?(b(),r("span",B," ‚úì –î—Ä—É–≥ ")):n("",!0):(b(),r("button",{key:0,disabled:e.sendingFriendRequest,class:"px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex-shrink-0",onClick:t=>async function(e){var t,l,a,r;if(null==(t=e.helper)?void 0:t.id)try{e.sendingFriendRequest=!0;const t=await _.sendFriendRequest(e.helper.id);t.success&&(e.helperFriendRequestSent=!0,(null==(l=t.message)?void 0:l.includes("—Ç–µ–ø–µ—Ä—å –¥—Ä—É–∑—å—è"))&&(e.helperIsFriend=!0,e.helperFriendRequestSent=!1))}catch(s){console.error("Failed to send friend request:",s),alert((null==(r=null==(a=s.response)?void 0:a.data)?void 0:r.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É")}finally{e.sendingFriendRequest=!1}}(e)},i(e.sendingFriendRequest?"...":"üë• –í –¥—Ä—É–∑—å—è"),9,D))])])):n("",!0),o("div",T,[o("span",J,"üí∞ "+i(e.amount)+" ‚ÇΩ",1),o("div",L,["accepted"===e.status||"in_progress"===e.status?(b(),r("button",{key:0,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",onClick:t=>async function(e){if(confirm("–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ–º–æ—â–∏?"))try{await _.completeHelpRequest(e),alert("–ó–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–µ–Ω! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ü–µ–Ω–∏—Ç–µ –ø–æ–º–æ—â–Ω–∏–∫–∞."),await Ye()}catch(t){console.error("Error completing request:",t),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞")}}(e.id)}," ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å ",8,O)):n("",!0),"completed"!==e.status||e.userHasRated?n("",!0):(b(),r("button",{key:1,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",onClick:t=>function(e){Ve.value=e,Ee.value=0,Me.value="",Ie.value=!0}(e)}," ‚≠ê –û—Ü–µ–Ω–∏—Ç—å ",8,G)),"completed"===e.status?(b(),r("button",{key:2,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",onClick:t=>async function(e){var t;try{if(!(null==(t=Se.user)?void 0:t.phone))return void alert("–£ –≤–∞—Å –≤ –ø—Ä–æ—Ñ–∏–ª–µ –Ω–µ —É–∫–∞–∑–∞–Ω —Ç–µ–ª–µ—Ñ–æ–Ω. –£–∫–∞–∂–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω, —á—Ç–æ–±—ã –æ—Ç–º–µ—Ç–∏—Ç—å –æ–ø–ª–∞—Ç—É.");if(!e.helper||!e.helper.phone)return void alert("–£ –ø–æ–º–æ—â–Ω–∏–∫–∞ –Ω–µ —É–∫–∞–∑–∞–Ω —Ç–µ–ª–µ—Ñ–æ–Ω ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å P2P-–ø–ª–∞—Ç—ë–∂.");if(!confirm("–û—Ç–º–µ—Ç–∏—Ç—å –æ–ø–ª–∞—Ç—É –ø–æ –°–ë–ü –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é?"))return;const l=await _.createP2PPayment({help_request_id:e.id,amount:e.amount,helper_phone:e.helper.phone}),a=null==l?void 0:l.id;if(!a)return console.error("P2P create response:",l),void alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –ø–ª–∞—Ç–µ–∂–∞");await _.confirmP2PPayment(a,{payer_phone:Se.user.phone,receipt_url:"P2P-—Å–∏–º—É–ª—è—Ü–∏—è"}),alert("–û–ø–ª–∞—Ç–∞ –ø–æ –°–ë–ü –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è")}catch(l){console.error("P2P payment error:",l),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∏–º—É–ª—è—Ü–∏–∏ –æ–ø–ª–∞—Ç—ã")}}(e)}," üí≥ –û—Ç–º–µ—Ç–∏—Ç—å –æ–ø–ª–∞—Ç—É (–°–ë–ü) ",8,K)):n("",!0),"active"===e.status?(b(),r("button",{key:3,class:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition",onClick:t=>function(e){Ae.value=e,We.value="",Ne.value=!0}(e)}," ‚ùå –û—Ç–º–µ–Ω–∏—Ç—å ",8,Q)):n("",!0),"active"===e.status||"accepted"===e.status?(b(),r("button",{key:4,class:"px-4 py-2 text-purple-600 hover:bg-purple-50 rounded-lg transition",onClick:t=>async function(e){Je.value=e,Oe.value=[],Ge.value="",Te.value=!0;try{Ke.value=!0;const e=await _.getFriends(),t=(null==e?void 0:e.data)||e||[];Le.value=t.map(e=>e.friend).filter(Boolean),console.log("üë• –ó–∞–≥—Ä—É–∂–µ–Ω–æ –¥—Ä—É–∑–µ–π:",Le.value.length)}catch(t){console.error("Error loading friends:",t),Le.value=[]}finally{Ke.value=!1}}(e)}," üë• –ü–æ–¥–µ–ª–∏—Ç—å—Å—è ",8,X)):n("",!0)])])]))),128)),0===$e.value.length?(b(),r("div",Y,[t[16]||(t[16]=o("svg",{class:"w-20 h-20 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),t[17]||(t[17]=o("p",{class:"text-gray-500 mb-4"}," –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ ",-1)),s(w,{to:"/create-request",class:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"},{default:c(()=>[...t[15]||(t[15]=[h(" –°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å ",-1)])]),_:1})])):n("",!0)])]),Ie.value?(b(),r("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[2]||(t[2]=g(e=>Ie.value=!1,["self"]))},[o("div",Z,[t[19]||(t[19]=o("h3",{class:"text-2xl font-black text-gray-900 mb-4"}," –û—Ü–µ–Ω–∏—Ç–µ –ø–æ–º–æ—â–Ω–∏–∫–∞ ",-1)),o("p",ee,i(null==(a=null==(l=Ve.value)?void 0:l.helper)?void 0:a.full_name),1),o("div",te,[(b(),r(d,null,u(5,e=>o("button",{key:e,class:"text-4xl transition-transform hover:scale-110",onClick:t=>Ee.value=e},i(e<=Ee.value?"‚≠ê":"‚òÜ"),9,le)),64))]),x(o("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>Me.value=e),placeholder:"–û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)",class:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mb-6 resize-none",rows:"3"},null,512),[[v,Me.value]]),o("div",ae,[o("button",{class:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-bold hover:bg-gray-50 transition",onClick:t[1]||(t[1]=e=>Ie.value=!1)}," –û—Ç–º–µ–Ω–∞ "),o("button",{disabled:0===Ee.value||ze.value,class:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",onClick:tt},i(ze.value?"–û—Ç–ø—Ä–∞–≤–∫–∞...":"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"),9,re)])])])):n("",!0),Ne.value?(b(),r("div",{key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[5]||(t[5]=g(e=>Ne.value=!1,["self"]))},[o("div",se,[t[20]||(t[20]=o("h3",{class:"text-xl font-black text-gray-900 dark:text-white mb-4 flex items-center gap-2"}," ‚ùå –û—Ç–º–µ–Ω–∞ –∑–∞—è–≤–∫–∏ ",-1)),t[21]||(t[21]=o("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–º–µ–Ω—ã (—ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å —Å–µ—Ä–≤–∏—Å): ",-1)),o("div",oe,[(b(),r(d,null,u(Be,e=>o("button",{key:e,class:f(["px-3 py-2 rounded-lg text-sm font-medium transition-all",We.value===e?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 border-2 border-red-500":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"]),onClick:t=>We.value=e},i(e),11,ne)),64))]),x(o("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>We.value=e),placeholder:"–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ—é –ø—Ä–∏—á–∏–Ω—É...",class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 mb-6 resize-none",rows:"2"},null,512),[[v,We.value]]),o("div",ie,[o("button",{class:"flex-1 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-bold hover:bg-gray-50 dark:hover:bg-gray-700 transition",onClick:t[4]||(t[4]=e=>Ne.value=!1)}," –ù–∞–∑–∞–¥ "),o("button",{disabled:!We.value.trim()||De.value,class:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed",onClick:Ze},i(De.value?"–û—Ç–º–µ–Ω–∞...":"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ—Ç–º–µ–Ω—É"),9,de)])])])):n("",!0),Te.value?(b(),r("div",{key:2,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[9]||(t[9]=g(e=>Te.value=!1,["self"]))},[o("div",ue,[t[26]||(t[26]=o("h3",{class:"text-xl font-black text-gray-900 dark:text-white mb-4 flex items-center gap-2"}," üë• –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –¥—Ä—É–∑—å—è–º–∏ ",-1)),t[27]||(t[27]=o("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–∑–µ–π, –∫–æ—Ç–æ—Ä—ã–º —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–º–æ—á—å: ",-1)),Ke.value?(b(),r("div",ce,[...t[22]||(t[22]=[o("span",{class:"animate-spin inline-block text-2xl"},"‚è≥",-1),o("p",{class:"text-gray-500 mt-2"}," –ó–∞–≥—Ä—É–∑–∫–∞ –¥—Ä—É–∑–µ–π... ",-1)])])):0===Le.value.length?(b(),r("div",pe,[t[24]||(t[24]=o("span",{class:"text-4xl mb-2 block"},"üòû",-1)),t[25]||(t[25]=o("p",{class:"text-gray-500"}," –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –¥—Ä—É–∑–µ–π ",-1)),s(w,{to:"/profile?addFriend=true",class:"text-blue-600 hover:underline mt-2 inline-block"},{default:c(()=>[...t[23]||(t[23]=[h(" –ù–∞–π—Ç–∏ –¥—Ä—É–∑–µ–π ‚Üí ",-1)])]),_:1})])):(b(),r("div",ge,[(b(!0),r(d,null,u(Le.value,e=>(b(),r("label",{key:e.id,class:f(["flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition",Oe.value.includes(e.id)?"bg-purple-50 dark:bg-purple-900/30 border-2 border-purple-500":"border-2 border-transparent"])},[x(o("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>Oe.value=e),type:"checkbox",value:e.id,class:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"},null,8,xe),[[k,Oe.value]]),e.avatar_url?(b(),r("img",{key:0,src:He(e.avatar_url),alt:e.full_name,class:"w-10 h-10 rounded-full object-cover"},null,8,ve)):(b(),r("div",be," üë§ ")),o("div",ye,[o("p",me,i(e.full_name),1),e.is_available_to_help?(b(),r("p",fe,"‚úÖ –ì–æ—Ç–æ–≤ –ø–æ–º–æ–≥–∞—Ç—å")):(b(),r("p",he,"‚ö™ –ù–µ –≤ —Å–µ—Ç–∏"))])],2))),128))])),Le.value.length>0?x((b(),r("textarea",{key:3,"onUpdate:modelValue":t[7]||(t[7]=e=>Ge.value=e),placeholder:"–î–æ–±–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)...",class:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 mb-4 resize-none",rows:"2"},null,512)),[[v,Ge.value]]):n("",!0),o("div",ke,[o("button",{class:"flex-1 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-bold hover:bg-gray-50 dark:hover:bg-gray-700 transition",onClick:t[8]||(t[8]=e=>Te.value=!1)}," –û—Ç–º–µ–Ω–∞ "),o("button",{disabled:0===Oe.value.length||Qe.value,class:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",onClick:et},i(Qe.value?"–û—Ç–ø—Ä–∞–≤–∫–∞...":`–û—Ç–ø—Ä–∞–≤–∏—Ç—å (${Oe.value.length})`),9,we)])])])):n("",!0)])}}};export{_e as default};
