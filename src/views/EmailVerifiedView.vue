<template>
  <div class="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4">
    <div class="max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center">
      <!-- –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
      <template v-if="status === 'success'">
        <div class="w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-6">
          <span class="text-5xl">‚úÖ</span>
        </div>
        <h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
          Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω!
        </h1>
        <p class="text-gray-600 dark:text-gray-300 mb-6">
          –í–∞—à email —É—Å–ø–µ—à–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
        </p>
        <div class="bg-green-50 dark:bg-green-900/30 rounded-lg p-4 mb-6">
          <p class="text-green-700 dark:text-green-300 text-sm">
            ‚úì –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–º–æ—â—å<br>
            ‚úì –ü–æ–º–æ—â—å –¥—Ä—É–≥–∏–º –≤–æ–¥–∏—Ç–µ–ª—è–º<br>
            ‚úì –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ email
          </p>
        </div>
      </template>

      <!-- –£–∂–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω -->
      <template v-else-if="status === 'already'">
        <div class="w-20 h-20 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-6">
          <span class="text-5xl">‚ÑπÔ∏è</span>
        </div>
        <h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
          Email —É–∂–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω
        </h1>
        <p class="text-gray-600 dark:text-gray-300 mb-6">
          –í–∞—à email –±—ã–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω —Ä–∞–Ω–µ–µ. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
        </p>
      </template>

      <!-- –û—à–∏–±–∫–∞ -->
      <template v-else>
        <div class="w-20 h-20 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-6">
          <span class="text-5xl">‚ùå</span>
        </div>
        <h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
          –û—à–∏–±–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
        </h1>
        <p class="text-gray-600 dark:text-gray-300 mb-4">
          {{ errorMessage || '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Å—ã–ª–∫–∞ —É—Å—Ç–∞—Ä–µ–ª–∞ –∏–ª–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞.' }}
        </p>
        <div class="bg-yellow-50 dark:bg-yellow-900/30 rounded-lg p-4 mb-6">
          <p class="text-yellow-700 dark:text-yellow-300 text-sm">
            üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è.
          </p>
        </div>
      </template>

      <!-- –ö–Ω–æ–ø–∫–∏ -->
      <div class="space-y-3">
        <router-link
          to="/dashboard"
          class="block w-full bg-gradient-to-r from-blue-500 to-green-500 text-white py-3 px-6 rounded-xl font-semibold hover:opacity-90 transition"
        >
          üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
        </router-link>
        <router-link
          v-if="status !== 'success'"
          to="/profile"
          class="block w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-3 px-6 rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition"
        >
          ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
        </router-link>
      </div>

      <!-- –õ–æ–≥–æ—Ç–∏–ø -->
      <div class="mt-8 pt-6 border-t border-gray-200 dark:border-gray-700">
        <p class="text-gray-400 text-sm">
          üöó Help-Car.Online ‚Äî –ü–æ–º–æ—â—å –Ω–∞ –¥–æ—Ä–æ–≥–µ
        </p>
      </div>
    </div>
  </div>
</template>

<script setup>
import { computed } from 'vue'
import { useRoute } from 'vue-router'

const route = useRoute()

const status = computed(() => route.query.status || 'error')
const errorMessage = computed(() => route.query.message ? decodeURIComponent(route.query.message) : null)
</script>
